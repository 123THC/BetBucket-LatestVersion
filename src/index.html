<!DOCTYPE html>
<html ng-app="YTHO">
<head>
  <base href="/">
  <title>Project 3</title>
  <!-- inject:js -->
  <!-- endinject -->
  <!-- inject:css -->
  <!-- endinject -->
</head>
<body ng-controller="MainCtrl as main">
  <header>
    <nav>
      <ul>
        <li ng-if="main.isAuthenticated()"><a href="#">Username:{{ main.user.username }}</a></li>
        <li ng-if="main.isAuthenticated()" ng-click="main.logout()"><a href="#">Logout</a></li>

        <li ng-if="!main.isAuthenticated()" ui-sref="login"><a href="#">Login</a></li>
        <li ng-if="!main.isAuthenticated()" ui-sref="register"><a href="#">Register</a></li>
      </ul>
    </nav>
  </header>

  <section class="profile-accy-nav" ng-if="main.isAuthenticated()">
    {{ main.newAccumulator.name }}
    <form ng-submit="main.createAccumulator()" novalidate>
      <input type="text" value="My Accumulator" ng-model="main.newAccumulator.name">
      <button>Create New Accumulator</button>
    </form>


    <ul>
      <li ng-repeat="accy in main.user.accumulators">
        <a ng-click="main.dislayTrackedEvents(accy.id)">
        Accumulator {{ $index + 1 }} <br>
        {{ accy.name }} <br>{{ accy.id }}<br><span ng-repeat="ids in accy.marketId"><strong>{{ ids }} </strong></span></a>
      </li>
    </ul>

  </section>

  <h1>Bet Bucket?</h1>

  <div ng-controller="LineCtrl as line">
    <canvas id="line" class="chart chart-line" chart-data="line.data"
    chart-labels="line.labels" chart-series="line.series" chart-options="line.options">
    </canvas>
  </div>
  <main ui-view></main>

  <footer>
  </footer>
</body>
</html>
